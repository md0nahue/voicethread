  [1m[35m (217.2ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (78.5ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6063133953458003835)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-04-01 21:06:27.536715', '2025-04-01 21:06:27.536718') RETURNING "key"[0m
Migrating to CreateTopics (20240324000001)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "topics" ("id" bigserial primary key, "body" text, "llm_fee" decimal(15,7), "fees" jsonb DEFAULT '[]', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000001') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInterviewSections (20240324000002)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "interview_sections" ("id" bigserial primary key, "topic_id" bigint NOT NULL, "body" character varying, "llm_fee" decimal(15,7), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_faa19e08e7"
FOREIGN KEY ("topic_id")
  REFERENCES "topics" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_interview_sections_on_topic_id" ON "interview_sections" ("topic_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000002') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToQuestions (20240324000004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "questions" ADD "status" character varying DEFAULT 'pending'[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6063133953458003835)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6063133953458003835)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateQuestions (20240324000005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "questions" ("id" bigserial primary key, "interview_section_id" bigint NOT NULL, "topic_id" bigint NOT NULL, "body" text NOT NULL, "url" character varying, "duration" float, "status" character varying DEFAULT 'pending', "is_followup_question" boolean DEFAULT FALSE, "llm_fee" decimal(15,7), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_25c33a8c1c"
FOREIGN KEY ("interview_section_id")
  REFERENCES "interview_sections" ("id")
, CONSTRAINT "fk_rails_fee3215432"
FOREIGN KEY ("topic_id")
  REFERENCES "topics" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_questions_on_interview_section_id" ON "questions" ("interview_section_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_questions_on_topic_id" ON "questions" ("topic_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_questions_on_status" ON "questions" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000005') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInterviewSessions (20240324000006)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "interview_sessions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "topic_id" bigint NOT NULL, "status" character varying DEFAULT 'in_progress', "metadata" jsonb DEFAULT '{}', "final_audio_url" character varying, "total_duration" float, "polished_transcription" text, "raw_transcript" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_28b5cc1445"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9369902890"
FOREIGN KEY ("topic_id")
  REFERENCES "topics" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(6063133953458003835)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6063133953458003835)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to DeviseCreateUsers (20240324000000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInterviewSessions (20240324000006)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "interview_sessions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "topic_id" bigint NOT NULL, "status" character varying DEFAULT 'in_progress', "metadata" jsonb DEFAULT '{}', "final_audio_url" character varying, "total_duration" float, "polished_transcription" text, "raw_transcript" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_28b5cc1445"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9369902890"
FOREIGN KEY ("topic_id")
  REFERENCES "topics" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_interview_sessions_on_user_id" ON "interview_sessions" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_interview_sessions_on_topic_id" ON "interview_sessions" ("topic_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_interview_sessions_on_status" ON "interview_sessions" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000006') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToQuestions (20240324000007)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "questions" ADD "status" character varying DEFAULT 'pending'[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(6063133953458003835)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_development" ENCODING = 'unicode'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "voicethread_rails_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6063133953458003835)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateAudioChunks (20240324000008)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "audio_chunks" ("id" bigserial primary key, "session_id" character varying NOT NULL, "s3_key" character varying NOT NULL, "chunk_number" integer NOT NULL, "duration" float, "size" integer, "status" character varying DEFAULT 'pending', "transcription" text, "metadata" jsonb DEFAULT '{}', "created_followup_questions" boolean DEFAULT FALSE, "is_followup_question" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_audio_chunks_on_session_id_and_chunk_number" ON "audio_chunks" ("session_id", "chunk_number")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_audio_chunks_on_session_id" ON "audio_chunks" ("session_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_audio_chunks_on_status" ON "audio_chunks" ("status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000008') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSilenceDurationToQuestions (20240324000009)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "questions" ADD "silence_duration" integer DEFAULT 5000[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000009') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWasReadToUserToQuestions (20240324000010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "questions" ADD "was_read_to_user" boolean DEFAULT FALSE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240324000010') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(6063133953458003835)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
